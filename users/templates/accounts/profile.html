{% extends "base.html" %}
{% load custom_filters  %}

{% block content %}
  <div class="bg-gray-100">
    <div class="flex min-h-screen">
<!-- Sidebar -->
    
    <aside class="md:w-72 bg-gray-200 shadow-md">
        <div class="block md:hidden text-end">
          <button id="setting-menu-toggle" class="p-3 mt-14 rounded focus:outline-none">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
            </svg>

          </button>
        </div>

      <div id="setting-menu" class="hidden fixed top-14 left-0 w-64 h-full bg-gray-200 z-50 md:relative md:block md:w-72 shadow-md">
            <div class="block ps-7 mt-10">
              <h2 class="text-xl font-semibold text-gray-800">Settings</h2>
            </div>
            <nav class="block mt-6 ps-3 text-sky-800">
              <a href="{% url 'edit_profile' %}" class="block py-2 px-4 hover:bg-gray-300"
              >Edit Profile</a>
              <a href="{% url "password-change" %}" class="block py-2 px-4 hover:bg-gray-300"
              >Change Password</a>
              <a href="#" class="block py-2 px-4 hover:bg-gray-300">Change Email</a>
              <a href="#" class="block py-2 px-4 hover:bg-gray-300">Delete Account</a>
            </nav>
      </div>
      <div class="hidden md:block">
            <div class="ps-7 mt-10">
              <h2 class="text-xl font-semibold text-gray-800">Settings</h2>
            </div>
            <nav class="mt-6 ps-3 text-sky-800">
              <a href="{% url 'edit_profile' %}" class="block py-2 px-4 hover:bg-gray-300"
              >Edit Profile</a>
              <a href="{% url "password-change" %}" class="block py-2 px-4 hover:bg-gray-300"
              >Change Password</a>
              <a href="#" class="block py-2 px-4 hover:bg-gray-300">Change Email</a>
              <a href="#" class="block py-2 px-4 hover:bg-gray-300">Delete Account</a>
            </nav>
      </div>
      </aside>
    
      <!-- Main Content -->
      <main class="flex-1 p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-8">Profile</h1>

        <div class="bg-white shadow-md rounded-lg p-6">
          <div class="block md:flex items-center mb-6">
           <div> <img
              src="{{profile_image.url}}"
              alt="User Avatar"
              class="w-24 md:w-40 h-24 md:h-40 rounded-full object-cover mr-6"/>
            </div>
            <div>
              <h2 class="text-2xl font-semibold text-gray-800">{{ name }}</h2>
              {% if request.user.groups.all.0.name == "User" %}
              <p class="text-slate-600">Participants</p>
              {% else %}
              <p class="text-gray-600">{{ request.user.groups.all.0.name }}</p>
              {% endif %}
            </div>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            <div class="p-4">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                Personal Information
              </h3>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Email:</span> {{ email }}
              </p>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Username:</span> {{ username }}
              </p>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Phone:</span> {{ phone_no }}
              </p>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Portfolio Website:</span> {{ website }}
              </p>
            </div>
            <div class="p-4">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                Additional Information
              </h3>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Designation:</span> {{ designation }}
              </p>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Organization/Company:</span> {{ company }}
              </p>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Office Address:</span> {{ office_address }}
              </p>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Home Address:</span> {{ home_address }}
              </p>
            </div>
            <div class="p-4">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                Account Information
              </h3>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Member Since:</span> {{member_since | date:"F j, Y"}}
              </p>
              <p class="text-slate-600 text-sm p-1">
                <span class="font-medium">Last Login:</span> {{last_login|humanized_date}}
              </p>
            </div>
          </div>
        </div>
      </main>
      
      
    </div>
  </div>

{% endblock content %}